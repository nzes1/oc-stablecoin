<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Developers/Contracts" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Contracts | DSC Protocol Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://nzes1.github.io/oc-stablecoin/img/dsc-protocol-preview.png"><meta data-rh="true" name="twitter:image" content="https://nzes1.github.io/oc-stablecoin/img/dsc-protocol-preview.png"><meta data-rh="true" property="og:url" content="https://nzes1.github.io/oc-stablecoin/Developers/Contracts"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Contracts | DSC Protocol Docs"><meta data-rh="true" name="description" content="Throughout this ABI documentation, the term &quot;collateral balance&quot; may refer to two distinct concepts within the protocol:"><meta data-rh="true" property="og:description" content="Throughout this ABI documentation, the term &quot;collateral balance&quot; may refer to two distinct concepts within the protocol:"><link data-rh="true" rel="icon" href="/oc-stablecoin/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://nzes1.github.io/oc-stablecoin/Developers/Contracts"><link data-rh="true" rel="alternate" href="https://nzes1.github.io/oc-stablecoin/Developers/Contracts" hreflang="en"><link data-rh="true" rel="alternate" href="https://nzes1.github.io/oc-stablecoin/Developers/Contracts" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-姒fGOMR/kWVcvrzHPDfN/z6UUcvzj9cB+F0n2+znlBt2Y1nZlNRW9FmiTgRgoaa" crossorigin="anonymous"><link rel="stylesheet" href="/oc-stablecoin/assets/css/styles.0525cdc0.css">
<script src="/oc-stablecoin/assets/js/runtime~main.53fc5ed9.js" defer="defer"></script>
<script src="/oc-stablecoin/assets/js/main.25c3fda4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/oc-stablecoin/img/dsc-logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/oc-stablecoin/"><div class="navbar__logo"><img src="/oc-stablecoin/img/dsc-logo.png" alt="DSC Protocol Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/oc-stablecoin/img/dsc-logo.png" alt="DSC Protocol Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">DSC Protocol</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/oc-stablecoin/protocol-overview">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/nzes1/oc-stablecoin" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/oc-stablecoin/">Homepage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/oc-stablecoin/protocol-overview">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/oc-stablecoin/Collateral Mechanism/Overview">Collateral Mechanism</a><button aria-label="Expand sidebar category &#x27;Collateral Mechanism&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/oc-stablecoin/category/Minting and Burning DSC">Minting and Burning DSC</a><button aria-label="Expand sidebar category &#x27;Minting and Burning DSC&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/oc-stablecoin/category/Liquidations">Liquidations</a><button aria-label="Expand sidebar category &#x27;Liquidations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/oc-stablecoin/Fees">Protocol Fees</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/oc-stablecoin/Developers/Contracts">Developers</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/oc-stablecoin/Developers/Contracts">Contracts ABI</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/oc-stablecoin/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Developers</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Contracts ABI</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Important Note on Collateral Balance</div><div class="admonitionContent_BuS1"><p>Throughout this ABI documentation, the term &quot;collateral balance&quot; may refer to two distinct concepts within the protocol:</p><ol>
<li><em><strong>Global User Collateral Balance -</strong></em> This represents the total amount of a specific collateral type held by a user within the protocol, outside of any specific DSC vault. This balance increases upon depositing collateral that is not directly tied to minting DSC.</li>
<li><em><strong>Locked Collateral (Vault Balance) -</strong></em> This refers to the amount of a specific collateral type that is actively backing DSC within a user&#x27;s individual vault. Certain actions, such as boosting a vault&#x27;s collateralization, may draw from the user&#x27;s global collateral balance to increase the locked collateral within that vault.</li>
</ol><div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Please pay close attention to the context of &quot;collateral balance&quot; within each function&#x27;s description to understand whether it pertains to the user&#x27;s global balance or the locked balance within a DSC vault.</p></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addethercollateral">addEtherCollateral<a href="#addethercollateral" class="hash-link" aria-label="Direct link to addEtherCollateral" title="Direct link to addEtherCollateral">​</a></h3>
<p>Deposits Ether into the protocol as collateral for the sender.</p>
<p><em>Accepts Ether via msg.value and updates the sender&#x27;s collateral balance.</em></p>
<p><em>The function is payable and public to enable direct Ether transfers.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">addEtherCollateral</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">payable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Events (Emits) and Errors</b></summary><div><div class="collapsibleContent_i85q"><p><strong>Emits</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>CM__CollateralDeposited</code></td><td><code>address indexed depositor</code>, <code>string collId</code> (<code>&quot;ETH&quot;</code>), <code>uint256 depositAmount</code></td><td>Emitted when Ether collateral is successfully deposited by a user.</td></tr></tbody></table><p><strong>Errors</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>CM__ZeroAmountNotAllowed</code></td><td></td><td>Thrown if the ether deposit amount is zero.</td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="depositcollateral">depositCollateral<a href="#depositcollateral" class="hash-link" aria-label="Direct link to depositCollateral" title="Direct link to depositCollateral">​</a></h3>
<p>Deposits ERC20 collateral into the protocol.</p>
<p><em>Updates the user&#x27;s available collateral balance tracked by the protocol.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">depositCollateral</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> amount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">public</span><span class="token plain"> nonReentrant</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The ID of the collateral token.</td></tr><tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of collateral to deposit.</td></tr></tbody></table>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Events (Emits) and Errors</b></summary><div><div class="collapsibleContent_i85q"><p><strong>Emits</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>CM__CollateralDeposited</code></td><td><code>string collId</code>, <code>address indexed depositor</code>, <code>uint256 collAmt</code></td><td>Emitted when collateral is successfully deposited.</td></tr></tbody></table><p><strong>Errors</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>CM__ZeroAmountNotAllowed</code></td><td></td><td>Thrown if the provided deposit amount is zero.</td></tr><tr><td><code>CM__CollateralTokenNotApproved</code></td><td></td><td>Thrown if the collateral token has not been approved for use as collateral in the protocol.</td></tr><tr><td><code>Collateral Deposit Failed</code></td><td></td><td>Thrown if the transfer of collateral from the depositor to the protocol fails.</td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="depositethercollateralandmintdsc">depositEtherCollateralAndMintDSC<a href="#depositethercollateralandmintdsc" class="hash-link" aria-label="Direct link to depositEtherCollateralAndMintDSC" title="Direct link to depositEtherCollateralAndMintDSC">​</a></h3>
<p>Deposits Ether collateral and mints DSC in a single transaction.</p>
<p><em>Requires the caller to send Ether. Reverts if the amount is zero.
Ensures atomicity for vault creation and DSC issuance, enhancing user experience.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">depositEtherCollateralAndMintDSC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> dscAmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">external</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">payable</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">isValidDebtSize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">dscAmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>dscAmt</code></td><td><code>uint256</code></td><td>The amount of DSC to mint against the deposited Ether collateral.</td></tr></tbody></table>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Events (Emits) and Errors</b></summary><div><div class="collapsibleContent_i85q"><p><strong>Emits</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>CM__CollateralDeposited</code></td><td><code>address indexed depositor</code>, <code>string collId</code> (<code>&quot;ETH&quot;</code>), <code>uint256 depositAmount</code></td><td>Emitted when Ether collateral is successfully deposited.</td></tr><tr><td><code>DscMinted</code></td><td><code>address indexed minter</code>, <code>uint256 dscAmt</code></td><td>Emitted when DSC is successfully minted.</td></tr></tbody></table><p><strong>Errors</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>DSCEngine__DebtSizeBelowMinimumAmountAllowed</code></td><td><code>uint256 minDebt</code></td><td>(Via modifier) Thrown if the resulting debt would be below the protocol&#x27;s minimum debt amount of 100 DSC.</td></tr><tr><td><code>CM__ZeroAmountNotAllowed</code></td><td></td><td>Thrown if the deposit amount is zero.</td></tr><tr><td><code>CM__AmountExceedsCurrentBalance</code></td><td><code>string collId</code>, <code>uint256 available</code></td><td>Thrown if the deposit amount exceeds the user&#x27;s available global Ether collateral balance.</td></tr><tr><td><code>DSCEngine__HealthFactorBelowThreshold</code></td><td><code>uint256 healthFactor</code></td><td>Thrown if the user&#x27;s health factor would fall below the safe threshold after minting.</td></tr><tr><td><code>DSCEngine__MintingDSCFailed</code></td><td></td><td>Thrown if the DSC ERC20 contract returns false during the DSC minting process.</td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="depositcollateralandmintdsc">depositCollateralAndMintDSC<a href="#depositcollateralandmintdsc" class="hash-link" aria-label="Direct link to depositCollateralAndMintDSC" title="Direct link to depositCollateralAndMintDSC">​</a></h3>
<p>Deposits ERC20 collateral and mints DSC in a single transaction.</p>
<p><em>Requires prior token approval. Reverts if collateral amount is zero or unsupported.
Ensures atomicity for vault creation and DSC issuance, enhancing user experience.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">depositCollateralAndMintDSC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> collAmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> dscAmt</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">external</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">isValidDebtSize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">dscAmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The ID of the collateral token.</td></tr><tr><td><code>collAmt</code></td><td><code>uint256</code></td><td>The amount of collateral to deposit.</td></tr><tr><td><code>dscAmt</code></td><td><code>uint256</code></td><td>The amount of DSC to mint against the deposited collateral.</td></tr></tbody></table>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Events (Emits) and Errors</b></summary><div><div class="collapsibleContent_i85q"><p><strong>Emits</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>CM__CollateralDeposited</code></td><td><code>string collId</code>, <code>address indexed depositor</code>, <code>uint256 collAmt</code></td><td>Emitted when collateral is successfully deposited.</td></tr><tr><td><code>DscMinted</code></td><td><code>address indexed minter</code>, <code>uint256 dscAmt</code></td><td>Emitted when DSC is successfully minted.</td></tr></tbody></table><p><strong>Errors</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>CM__ZeroAmountNotAllowed</code></td><td></td><td>Thrown if the provided deposit amount is zero.</td></tr><tr><td><code>CM__CollateralTokenNotApproved</code></td><td></td><td>Thrown if the collateral token has not been approved for use in the protocol.</td></tr><tr><td><code>Collateral Deposit Failed</code></td><td></td><td>Thrown if collateral transfer from depositor to the protocol fails.</td></tr><tr><td><code>DSCEngine__HealthFactorBelowThreshold</code></td><td><code>uint256 healthFactor</code></td><td>Thrown if the user&#x27;s health factor would fall below the safe threshold of 1 after minting.</td></tr><tr><td><code>DSCEngine__MintingDSCFailed</code></td><td></td><td>Thrown if the DSC minting process fails.</td></tr><tr><td><code>DSCEngine__DebtSizeBelowMinimumAmountAllowed</code></td><td><code>uint256 minDebt</code></td><td>Thrown if the resulting debt would be below the protocol&#x27;s minimum debt amount (100 DSC).</td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="boostvault">boostVault<a href="#boostvault" class="hash-link" aria-label="Direct link to boostVault" title="Direct link to boostVault">​</a></h3>
<p>Increases the locked collateral in an existing vault.</p>
<p><em>Transfers collateral from the user&#x27;s balance into the vault, boosting its backing.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">boostVault</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> collAmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">external</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The ID of the collateral type.</td></tr><tr><td><code>collAmt</code></td><td><code>uint256</code></td><td>The amount of collateral to lock additionally in the vault.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="expandvault">expandVault<a href="#expandvault" class="hash-link" aria-label="Direct link to expandVault" title="Direct link to expandVault">​</a></h3>
<p>Expands an existing vault by adding collateral and minting additional DSC.</p>
<p><em>Requires prior token approval and valid collateral. Reverts if inputs are invalid.
Ensures atomic execution of collateral deposit and DSC minting for better UX.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">expandVault</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> collAmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> dscAmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">external</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">isValidDebtSize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">dscAmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The ID of the collateral token.</td></tr><tr><td><code>collAmt</code></td><td><code>uint256</code></td><td>The amount of collateral to deposit.</td></tr><tr><td><code>dscAmt</code></td><td><code>uint256</code></td><td>The amount of DSC to mint.</td></tr></tbody></table>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Events (Emits) and Errors</b></summary><div><div class="collapsibleContent_i85q"><p><strong>Emits</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>CM__CollateralDeposited</code></td><td><code>string collId</code>, <code>address indexed depositor</code>, <code>uint256 collAmt</code></td><td>Emitted when additional collateral is deposited into the user&#x27;s global balance.</td></tr><tr><td><code>DscMinted</code></td><td><code>address indexed minter</code>, <code>uint256 dscAmt</code></td><td>Emitted when additional DSC is minted against the vault&#x27;s collateral.</td></tr></tbody></table><p><strong>Errors</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>DSCEngine__HealthFactorBelowThreshold</code></td><td><code>uint256 healthFactor</code></td><td>Thrown if adding the specified collateral and minting the additional DSC would cause the vault&#x27;s health factor to fall below the minimum threshold (1).</td></tr><tr><td><code>DSCEngine__MintingDSCFailed</code></td><td></td><td>Thrown if the DSC minting process fails.</td></tr><tr><td><code>CM__ZeroAmountNotAllowed</code></td><td></td><td>Thrown if the provided collateral deposit amount is zero.</td></tr><tr><td><code>CM__CollateralTokenNotApproved</code></td><td></td><td>Thrown if the collateral token has not been approved for use as collateral in the protocol.</td></tr><tr><td><code>Collateral Deposit Failed</code></td><td></td><td>Thrown if the collateral transfer from the user to the protocol fails.</td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="expandethvault">expandETHVault<a href="#expandethvault" class="hash-link" aria-label="Direct link to expandETHVault" title="Direct link to expandETHVault">​</a></h3>
<p>Expands an existing Ether vault by adding Ether collateral and minting additional DSC.</p>
<p><em>Requires the caller to send Ether. Reverts if the amount is zero.
Ensures atomic execution of Ether deposit and DSC minting for better UX.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">expandETHVault</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> dscAmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">external</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">payable</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">isValidDebtSize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">dscAmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>dscAmt</code></td><td><code>uint256</code></td><td>The amount of DSC to mint against the deposited Ether collateral.</td></tr></tbody></table>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Events (Emits) and Errors</b></summary><div><div class="collapsibleContent_i85q"><p><strong>Emits</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>CM__CollateralDeposited</code></td><td><code>string collId</code> (<code>&quot;ETH&quot;</code>), <code>address indexed depositor</code>, <code>uint256 depositAmount</code></td><td>Emitted when additional Ether collateral is deposited into the user&#x27;s global balance.</td></tr><tr><td><code>DscMinted</code></td><td><code>address indexed minter</code>, <code>uint256 dscAmt</code></td><td>Emitted when additional DSC is minted against the vault&#x27;s collateral.</td></tr></tbody></table><p><strong>Errors</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>DSCEngine__HealthFactorBelowThreshold</code></td><td><code>uint256 healthFactor</code></td><td>Thrown if adding the specified Ether collateral and minting the additional DSC would cause the vault&#x27;s health factor to fall below the minimum threshold (1).</td></tr><tr><td><code>DSCEngine__MintingDSCFailed</code></td><td></td><td>Thrown if the DSC minting process fails.</td></tr><tr><td><code>CM__ZeroAmountNotAllowed</code></td><td></td><td>Thrown if the provided Ether deposit amount is zero.</td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="redeemcollateral">redeemCollateral<a href="#redeemcollateral" class="hash-link" aria-label="Direct link to redeemCollateral" title="Direct link to redeemCollateral">​</a></h3>
<p>Redeems a specified amount of collateral from the vault.</p>
<p><em>Allows users to withdraw collateral while maintaining their DSC debt.</em></p>
<p><em>Healthy Health factor has to be maintained after redeeming.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">redeemCollateral</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> collAmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">public</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The ID of the collateral token.</td></tr><tr><td><code>collAmt</code></td><td><code>uint256</code></td><td>The amount of collateral to redeem.</td></tr></tbody></table>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Events (Emits) and and Errors</b></summary><div><div class="collapsibleContent_i85q"><p><strong>Emits</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>CM__CollateralWithdrawn</code></td><td><code>string collId</code>, <code>address indexed caller</code>, <code>uint256 amount</code></td><td>Emitted when collateral is successfully withdrawn.</td></tr></tbody></table><p><strong>Errors</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>DSCEngine__HealthFactorBelowThreshold</code></td><td><code>uint256 healthFactor</code></td><td>Thrown if redeeming the specified amount of collateral would cause the user&#x27;s health factor to fall below the minimum threshold (1).</td></tr><tr><td><code>CM__ZeroAmountNotAllowed</code></td><td></td><td>Thrown if the requested redemption amount is zero.</td></tr><tr><td><code>CM__AmountExceedsCurrentBalance</code></td><td><code>string collId</code>, <code>uint256 available</code></td><td>Thrown if the requested redemption amount exceeds the user&#x27;s available global collateral balance for the specified collateral type.</td></tr><tr><td><code>Ether Transfer Failed</code></td><td></td><td>Thrown if the transfer of Ether to the user fails during the collateral redemption process.</td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="redeemcollateralfordsc">redeemCollateralForDSC<a href="#redeemcollateralfordsc" class="hash-link" aria-label="Direct link to redeemCollateralForDSC" title="Direct link to redeemCollateralForDSC">​</a></h3>
<p>Redeems locked collateral by burning DSC in a single transaction.</p>
<p><em>Settles any protocol fees before redeeming. If full DSC debt is burned, the vault is considered closed,
and the user receives all remaining locked collateral instead of the specified amount.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">redeemCollateralForDSC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> collAmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> dscAmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">external</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The ID of the collateral token.</td></tr><tr><td><code>collAmt</code></td><td><code>uint256</code></td><td>The amount of collateral to redeem.</td></tr><tr><td><code>dscAmt</code></td><td><code>uint256</code></td><td>The amount of DSC to burn.</td></tr></tbody></table>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Events (Emits) and Errors</b></summary><div><div class="collapsibleContent_i85q"><p><strong>Emits</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>CM__CollateralWithdrawn</code></td><td><code>string collId</code>, <code>address indexed caller</code>, <code>uint256 amount</code></td><td>Emitted when collateral is successfully withdrawn/redeemed.</td></tr></tbody></table><p><strong>Errors</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>DSCEngine__BurningDSCFailed</code></td><td></td><td>Thrown if the burning of DSC fails (e.g., DSC transfer back from the user to the DSEngine fails).</td></tr><tr><td><code>DSCEngine__HealthFactorBelowThreshold</code></td><td><code>uint256 healthFactor</code></td><td>Thrown if removing the locked collateral would cause the user&#x27;s health factor to fall below the minimum threshold (1).</td></tr><tr><td><code>CM__AmountExceedsCurrentBalance</code></td><td><code>string collId</code>, <code>uint256 available</code></td><td>Thrown if the requested withdrawal amount exceeds the user&#x27;s available global collateral balance for the specified collateral type.</td></tr><tr><td><code>Ether Transfer Failed</code></td><td></td><td>Thrown if the transfer of Ether to the user fails during the redemption process.</td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="removecollateral">removeCollateral<a href="#removecollateral" class="hash-link" aria-label="Direct link to removeCollateral" title="Direct link to removeCollateral">​</a></h3>
<p>Withdraws a specified amount of collateral from the protocol.</p>
<p><em>Requires the user to have sufficient collateral balance. Determines
if the collateral is Ether or ERC20 and processes the withdrawal accordingly.</em></p>
<p><em>Emits a withdrawal event upon successful transfer.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">removeCollateral</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> amount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">public</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The identifier of the collateral token.</td></tr><tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of collateral to withdraw.</td></tr></tbody></table>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Events (Emits) and Errors</b></summary><div><div class="collapsibleContent_i85q"><p><strong>Emits</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>CM__CollateralWithdrawn</code></td><td><code>string collId</code>, <code>address indexed caller</code>, <code>uint256 amount</code></td><td>Emitted when a user successfully withdraws collateral.</td></tr></tbody></table><p><strong>Errors</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>CM__ZeroAmountNotAllowed</code></td><td></td><td>Thrown if the requested withdrawal amount is zero.</td></tr><tr><td><code>CM__AmountExceedsCurrentBalance</code></td><td><code>string collId</code>, <code>uint256 available</code></td><td>Thrown if the requested withdrawal amount exceeds the user&#x27;s available global collateral balance for the specified collateral type.</td></tr><tr><td><code>Ether Transfer Failed</code></td><td></td><td>Thrown if the internal Ether transfer during the withdrawal process fails. (Note: This is a string revert, so parameters might not be explicitly available in the ABI)</td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mintdsc">mintDSC<a href="#mintdsc" class="hash-link" aria-label="Direct link to mintDSC" title="Direct link to mintDSC">​</a></h3>
<p>Mints DSC against a specified amount of collateral.</p>
<p><em>Allows users to lock existing deposited collateral and mint DSC.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">mintDSC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> collAmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> dscAmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">public</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">isValidDebtSize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">dscAmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> nonReentrant</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The ID of the collateral token.</td></tr><tr><td><code>collAmt</code></td><td><code>uint256</code></td><td>The amount of deposited collateral to lock.</td></tr><tr><td><code>dscAmt</code></td><td><code>uint256</code></td><td>The amount of DSC to mint against the locked collateral.</td></tr></tbody></table>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Events (Emits) and and Errors</b></summary><div><div class="collapsibleContent_i85q"><p><strong>Emits</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>DscMinted</code></td><td><code>address indexed minter</code>, <code>uint256 dscAmt</code></td><td>Emitted when DSC is successfully minted.</td></tr></tbody></table><p><strong>Errors</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>DSCEngine__DebtSizeBelowMinimumAmountAllowed</code></td><td><code>uint256 minDebt</code></td><td>Thrown if the resulting debt would be below the protocol&#x27;s minimum debt amount (100 DSC).</td></tr><tr><td><code>DSCEngine__HealthFactorBelowThreshold</code></td><td><code>uint256 healthFactor</code></td><td>Thrown if the user&#x27;s health factor would fall below the safe threshold after minting the requested DSC amount.</td></tr><tr><td><code>DSCEngine__MintingDSCFailed</code></td><td></td><td>Thrown if the DSC minting process fails.</td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="burndsc">burnDSC<a href="#burndsc" class="hash-link" aria-label="Direct link to burnDSC" title="Direct link to burnDSC">​</a></h3>
<p>Burns a specified amount of DSC from the user&#x27;s vault.</p>
<p><em>Decreases the DSC debt associated with the user&#x27;s vault.
Fees are also settled prior to reducing the debt.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">burnDSC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> dscAmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">public</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The ID of the collateral token.</td></tr><tr><td><code>dscAmt</code></td><td><code>uint256</code></td><td>The amount of DSC to burn.</td></tr></tbody></table>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Events (Emits) and and Errors</b></summary><div><div class="collapsibleContent_i85q"><p><strong>Errors</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>DSCEngine__BurningDSCFailed</code></td><td></td><td>Thrown if the burning of DSC fails.</td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="calculatefees">calculateFees<a href="#calculatefees" class="hash-link" aria-label="Direct link to calculateFees" title="Direct link to calculateFees">​</a></h3>
<p>Calculates the protocol fee based on the specified debt amount and time duration.</p>
<p><em>This function computes the fee using a fixed annual percentage rate (APR), prorated over the provided
debt period. The fee represents the cost of maintaining an open debt position within the protocol.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">calculateFees</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> debt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> debtPeriod</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">external</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">pure</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>debt</code></td><td><code>uint256</code></td><td>The outstanding DSC debt for which the fee is to be calculated.</td></tr><tr><td><code>debtPeriod</code></td><td><code>uint256</code></td><td>The duration (in seconds) over which the debt has been active.</td></tr></tbody></table>
<p><strong>Returns</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>fee The total protocol fee owed for the specified debt and period.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="markvaultasunderwater">markVaultAsUnderwater<a href="#markvaultasunderwater" class="hash-link" aria-label="Direct link to markVaultAsUnderwater" title="Direct link to markVaultAsUnderwater">​</a></h3>
<p>Flags a vault as underwater and optionally initiates liquidation.</p>
<p><em>Intended for use by governance or keeper bots. Can be used to only mark or both mark and liquidate.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">markVaultAsUnderwater</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> owner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token plain"> liquidate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> dsc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token plain"> withdraw</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">external</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The ID of the vault collateral token.</td></tr><tr><td><code>owner</code></td><td><code>address</code></td><td>The address of the vault owner.</td></tr><tr><td><code>liquidate</code></td><td><code>bool</code></td><td>Whether to proceed with liquidation immediately.</td></tr><tr><td><code>dsc</code></td><td><code>uint256</code></td><td>The amount of DSC to repay if liquidating.</td></tr><tr><td><code>withdraw</code></td><td><code>bool</code></td><td>Whether to withdraw the proceeds of liquidation from the protocol or not. This flexibility gives liquidators the option to keep the collateral within the protocol for future use such as opening new vaults themselves.</td></tr></tbody></table>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Events (Emits) and Errors</b></summary><div><div class="collapsibleContent_i85q"><p><strong>Emits</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>VaultMarkedAsUnderwater</code></td><td><code>string collId</code>, <code>address indexed owner</code></td><td>Emitted when a vault is marked as underwater due to its health factor falling below the critical threshold.</td></tr><tr><td><code>LiquidationWithFullRewards</code></td><td><code>string collId</code>, <code>address indexed owner</code>, <code>address indexed liquidator</code></td><td>Emitted when a vault is fully liquidated, and the liquidator receives the full liquidation rewards.</td></tr><tr><td><code>LiquidationWithPartialRewards</code></td><td><code>string collId</code>, <code>address indexed owner</code>, <code>address indexed liquidator</code></td><td>Emitted when a vault is partially liquidated, and the liquidator receives partial liquidation rewards.</td></tr><tr><td><code>AbsorbedBadDebt</code></td><td><code>string collId</code>, <code>address indexed owner</code></td><td>Emitted when the protocol absorbs bad debt from a vault because liquidations could not cover the base equivalent of the debt.</td></tr><tr><td><code>LiquidationSurplusReturned</code></td><td><code>string collId</code>, <code>address indexed owner</code>, <code>uint256 surplus</code></td><td>Emitted when surplus collateral remains after a liquidation and is returned to the vault owner.</td></tr><tr><td><code>CM__CollateralWithdrawn</code></td><td><code>string collId</code>, <code>address indexed caller</code>, <code>uint256 amount</code></td><td>Emitted when collateral is withdrawn by the liquidator from the protocol as part of the liquidation process.</td></tr></tbody></table><p><strong>Errors</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>DSCEngine__VaultNotUnderwater</code></td><td></td><td>Thrown if an attempt is made to mark a vault as underwater when its health factor is not below the critical threshold.</td></tr><tr><td><code>LM__VaultNotLiquidatable</code></td><td></td><td>Thrown if an attempt is made to liquidate a vault that is not currently eligible for liquidation (e.g., its health factor is not sufficiently low).</td></tr><tr><td><code>LM__SuppliedDscNotEnoughToRepayBadDebt</code></td><td></td><td>Thrown if the amount of DSC supplied by the liquidator is not sufficient to cover the vault&#x27;s full DSC debt.</td></tr><tr><td><code>DSCEngine__BurningDSCFailed</code></td><td></td><td>Thrown if the burning of DSC (debt repayment) fails during the liquidation process.</td></tr><tr><td><code>CM__ZeroAmountNotAllowed</code></td><td></td><td>Thrown if a zero amount is provided for a collateral withdrawal.</td></tr><tr><td><code>CM__AmountExceedsCurrentBalance</code></td><td><code>string collId</code>, <code>uint256 available</code></td><td>Thrown if the liquidator attempts to withdraw more global collateral than they currently hold.</td></tr><tr><td><code>Ether Transfer Failed</code></td><td></td><td>Thrown if the transfer of Ether to the liquidator fails during the liquidation process.</td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="calculateliquidationrewards">calculateLiquidationRewards<a href="#calculateliquidationrewards" class="hash-link" aria-label="Direct link to calculateLiquidationRewards" title="Direct link to calculateLiquidationRewards">​</a></h3>
<p>Calculates the liquidation rewards for a liquidator based on vault details.</p>
<p><em>Rewards are calculated in DSC and are based on the size of the debt and the speed
of liquidation. A time-decaying discount is applied based on how long the vault has been
underwater. The final rewards are returned in DSC, which is pegged to USD and will be
converted to collateral amount for transfer in the DSCEngine.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">calculateLiquidationRewards</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> owner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">view</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> rewards</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The ID of the vault collateral type.</td></tr><tr><td><code>owner</code></td><td><code>address</code></td><td>The address of the vault owner.</td></tr></tbody></table>
<p><strong>Returns</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>rewards</code></td><td><code>uint256</code></td><td>The total liquidation rewards in USD.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="liquidatevault">liquidateVault<a href="#liquidatevault" class="hash-link" aria-label="Direct link to liquidateVault" title="Direct link to liquidateVault">​</a></h3>
<p>Executes the liquidation of an unhealthy vault by repaying its DSC debt and seizing collateral.</p>
<p>*This is the core liquidation function responsible for handling the mechanics of an undercollateralized
vault.
It can be called by anyone, but the caller must supply the vault&#x27;s amount of DSC to repay the debt.
If the vault was not previously marked as underwater, the function will first flag it and apply the more generous
liquidation reward parameters, providing greater incentive to the liquidator. These reward mechanics are defined
in the Liquidation contract and ensure that early liquidators receive a premium.
The function processes the liquidation in the following order:</p>
<ol>
<li>Applies a liquidation penalty, deducted from the vault owner’s locked collateral.</li>
<li>Calculates liquidation rewards for the liquidator based on the DSC repaid.</li>
<li>Burns the DSC supplied by the liquidator and charges protocol fees (also deducted from the owner&#x27;s
collateral).
Liquidation outcomes fall into one of three categories:</li>
<li>Sufficient Collateral for Full Liquidation:
The vault has enough collateral to cover both the base repayment (i.e., collateral equivalent of DSC debt)
and the calculated liquidation rewards. The liquidator receives both in full.</li>
<li>Partial Rewards:
The vault has enough to repay the base DSC-equivalent collateral but not the full rewards.
The liquidator receives the base and as much of the rewards as available. If the remaining collateral
is only sufficient for base repayment, then rewards may be zero.</li>
<li>Insufficient Collateral (Bad Debt):
The vault doesn&#x27;t have enough collateral to repay even the base amount. The liquidator receives no collateral.
Instead, the DSC they repaid is refunded by minting new DSC from the protocol to cover their loss.
The protocol absorbs the bad debt and takes ownership of the vault. Once governance is implemented, custom
rules and resolutions can be introduced to handle absorbed bad debt positions.
If the liquidator opts to withdraw (<code>withdraw = true</code>), their rewards are sent to their address.
If not, the seized collateral remains in the protocol, credited to their internal balance for future use.
Any excess collateral left after repaying DSC and rewards is returned to the vault owner.*</li>
</ol>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">liquidateVault</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> owner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> dscToRepay</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token plain"> withdraw</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">public</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The ID of the collateral token.</td></tr><tr><td><code>owner</code></td><td><code>address</code></td><td>The address of the vault owner.</td></tr><tr><td><code>dscToRepay</code></td><td><code>uint256</code></td><td>The amount of DSC the liquidator is repaying to initiate liquidation.</td></tr><tr><td><code>withdraw</code></td><td><code>bool</code></td><td>Whether the liquidator wants to immediately withdraw the received collateral from the protocol.</td></tr></tbody></table>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Events (Emits) and Errors</b></summary><div><div class="collapsibleContent_i85q"><p><strong>Emits</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>VaultMarkedAsUnderwater</code></td><td><code>string collId</code>, <code>address indexed owner</code></td><td>Emitted when a vault is marked as underwater prior to liquidation.</td></tr><tr><td><code>LiquidationWithFullRewards</code></td><td><code>string collId</code>, <code>address indexed owner</code>, <code>address indexed liquidator</code></td><td>Emitted when a vault is fully liquidated, and the liquidator receives the full liquidation rewards.</td></tr><tr><td><code>LiquidationWithPartialRewards</code></td><td><code>string collId</code>, <code>address indexed owner</code>, <code>address indexed liquidator</code></td><td>Emitted when a vault is partially liquidated, and the liquidator receives partial liquidation rewards.</td></tr><tr><td><code>AbsorbedBadDebt</code></td><td><code>string collId</code>, <code>address indexed owner</code></td><td>Emitted when the protocol absorbs bad debt from a vault because liquidations could not cover the base equivalent of the debt.</td></tr><tr><td><code>LiquidationSurplusReturned</code></td><td><code>string collId</code>, <code>address indexed owner</code>, <code>uint256 surplus</code></td><td>Emitted when surplus collateral remains after a liquidation and is returned to the vault owner.</td></tr><tr><td><code>CM__CollateralWithdrawn</code></td><td><code>string collId</code>, <code>address indexed caller</code>, <code>uint256 amount</code></td><td>Emitted when collateral is withdrawn by the liquidator from the protocol as part of the liquidation process.</td></tr></tbody></table><p><strong>Errors</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>LM__VaultNotLiquidatable</code></td><td></td><td>Thrown if an attempt is made to liquidate a vault that is not currently eligible for liquidation (e.g., its health factor is not sufficiently low).</td></tr><tr><td><code>LM__SuppliedDscNotEnoughToRepayBadDebt</code></td><td></td><td>Thrown if the amount of DSC supplied by the liquidator is not sufficient to cover the vault&#x27;s bad debt.</td></tr><tr><td><code>DSCEngine__BurningDSCFailed</code></td><td></td><td>Thrown if the burning of DSC (debt repayment) fails during the liquidation process.</td></tr><tr><td><code>CM__ZeroAmountNotAllowed</code></td><td></td><td>Thrown if a zero amount is provided for a DSC repayment or collateral withdrawal.</td></tr><tr><td><code>CM__AmountExceedsCurrentBalance</code></td><td><code>string collId</code>, <code>uint256 available</code></td><td>Thrown if the liquidator attempts to withdraw more global collateral than they currently hold.</td></tr><tr><td><code>Ether Transfer Failed</code></td><td></td><td>Thrown if the transfer of Ether to the liquidator fails during the liquidation process.</td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gethealthfactor">getHealthFactor<a href="#gethealthfactor" class="hash-link" aria-label="Direct link to getHealthFactor" title="Direct link to getHealthFactor">​</a></h3>
<p>Checks the health factor of a user&#x27;s vault for a given collateral type.</p>
<p><em>This function calls an internal helper function to evaluate the health factor of the user&#x27;s vault.
It returns a boolean indicating whether the vault is healthy and the current health factor value.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getHealthFactor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">external</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The ID of the collateral type.</td></tr><tr><td><code>user</code></td><td><code>address</code></td><td>The address of the vault owner.</td></tr></tbody></table>
<p><strong>Returns</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>A boolean indicating whether the vault is healthy and the current health factor value.</td></tr><tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getcollateralsettings">getCollateralSettings<a href="#getcollateralsettings" class="hash-link" aria-label="Direct link to getCollateralSettings" title="Direct link to getCollateralSettings">​</a></h3>
<p>Retrieves the configuration settings for a specific collateral type.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getCollateralSettings</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">external</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">view</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Structs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">CollateralConfig </span><span class="token keyword" style="color:rgb(127, 219, 202)">memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The unique identifier for the collateral type.</td></tr></tbody></table>
<p><strong>Returns</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>&lt;none&gt;</code></td><td><code>Structs.CollateralConfig</code></td><td>The CollateralConfig struct containing the token address, total debt, liquidation threshold, and price feed.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getallowedcollateralids">getAllowedCollateralIds<a href="#getallowedcollateralids" class="hash-link" aria-label="Direct link to getAllowedCollateralIds" title="Direct link to getAllowedCollateralIds">​</a></h3>
<p>Retrieves a list of all allowed collateral IDs in the protocol.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getAllowedCollateralIds</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">external</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">view</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Returns</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>&lt;none&gt;</code></td><td><code>bytes32[]</code></td><td>An array of collateral IDs.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getcollateraladdress">getCollateralAddress<a href="#getcollateraladdress" class="hash-link" aria-label="Direct link to getCollateralAddress" title="Direct link to getCollateralAddress">​</a></h3>
<p>Fetches the address of the ERC20 collateral token for a given collateral ID.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getCollateralAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">external</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">view</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The ID of the collateral.</td></tr></tbody></table>
<p><strong>Returns</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>The address of the collateral token.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getvaultinformation">getVaultInformation<a href="#getvaultinformation" class="hash-link" aria-label="Direct link to getVaultInformation" title="Direct link to getVaultInformation">​</a></h3>
<p>Retrieves the locked collateral amount and DSC debt for a specific vault.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getVaultInformation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> owner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">external</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">view</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> collAmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> dscDebt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The ID of the collateral type.</td></tr><tr><td><code>owner</code></td><td><code>address</code></td><td>The address of the vault owner.</td></tr></tbody></table>
<p><strong>Returns</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collAmt</code></td><td><code>uint256</code></td><td>The amount of collateral locked in the vault.</td></tr><tr><td><code>dscDebt</code></td><td><code>uint256</code></td><td>The amount of DSC debt associated with the vault.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getusercollateralbalance">getUserCollateralBalance<a href="#getusercollateralbalance" class="hash-link" aria-label="Direct link to getUserCollateralBalance" title="Direct link to getUserCollateralBalance">​</a></h3>
<p>Retrieves the collateral balance of a specific user for a given collateral type.</p>
<p><em>Accesses the user&#x27;s balance from the protocol&#x27;s storage and is used to check how much collateral is
available for a user. i.e. unlocked collateral.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getUserCollateralBalance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">external</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">view</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The ID of the collateral type.</td></tr><tr><td><code>user</code></td><td><code>address</code></td><td>The address of the user.</td></tr></tbody></table>
<p><strong>Returns</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The balance of the specified collateral type for the given user.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gettotaldscdebt">getTotalDscDebt<a href="#gettotaldscdebt" class="hash-link" aria-label="Direct link to getTotalDscDebt" title="Direct link to getTotalDscDebt">​</a></h3>
<p>Retrieves the total DSC debt for a specific collateral type.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getTotalDscDebt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">external</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">view</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The ID of the collateral type.</td></tr></tbody></table>
<p><strong>Returns</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The total DSC debt associated with the specified collateral type.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getvaultcollateralusdvalue">getVaultCollateralUsdValue<a href="#getvaultcollateralusdvalue" class="hash-link" aria-label="Direct link to getVaultCollateralUsdValue" title="Direct link to getVaultCollateralUsdValue">​</a></h3>
<p>Calculates the USD value of the collateral locked in a vault.</p>
<p><em>Fetches the current collateral price from the Chainlink price feed, scales it to 18 decimals,
and returns the value in USD. This value is essential for determining the Health Factor ratio and
the amount of DSC that can be minted against the collateral - the reason for scaling to 18 decimals.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getVaultCollateralUsdValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> owner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> usdValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The ID of the collateral type.</td></tr><tr><td><code>owner</code></td><td><code>address</code></td><td>The address of the vault owner.</td></tr></tbody></table>
<p><strong>Returns</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>usdValue</code></td><td><code>uint256</code></td><td>The USD value of the locked collateral, scaled to 18 decimals.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gettokenamountfromusdvalue">getTokenAmountFromUsdValue<a href="#gettokenamountfromusdvalue" class="hash-link" aria-label="Direct link to getTokenAmountFromUsdValue" title="Direct link to getTokenAmountFromUsdValue">​</a></h3>
<p>Converts a USD value to the equivalent amount of collateral tokens.</p>
<p><em>Uses the collateral&#x27;s price and decimal precision to compute the token amount
that corresponds to the given USD value. Price is scaled to 18 decimals for consistency.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getTokenAmountFromUsdValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> usdValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> tokenAmount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The ID of the collateral type.</td></tr><tr><td><code>usdValue</code></td><td><code>uint256</code></td><td>The USD value to convert.</td></tr></tbody></table>
<p><strong>Returns</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>tokenAmount</code></td><td><code>uint256</code></td><td>The corresponding amount of collateral tokens.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getrawusdvalue">getRawUsdValue<a href="#getrawusdvalue" class="hash-link" aria-label="Direct link to getRawUsdValue" title="Direct link to getRawUsdValue">​</a></h3>
<p>Returns the raw USD value of a specified amount of collateral.</p>
<p><em>Fetches the current collateral price from the Chainlink price feed and calculates
the USD value based on the amount. The result is in the same scale as the price feed&#x27;s decimals,
not scaled to 18 decimals.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getRawUsdValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> amount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">view</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> rawUsdValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The ID of the collateral type.</td></tr><tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of collateral to convert to USD value.</td></tr></tbody></table>
<p><strong>Returns</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>rawUsdValue</code></td><td><code>uint256</code></td><td>The raw USD value of the specified collateral amount.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="latestrounddatastalenesscheck">latestRoundDataStalenessCheck<a href="#latestrounddatastalenesscheck" class="hash-link" aria-label="Direct link to latestRoundDataStalenessCheck" title="Direct link to latestRoundDataStalenessCheck">​</a></h3>
<p>Verifies the freshness of the latest Chainlink price feed data.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">latestRoundDataStalenessCheck</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">AggregatorV3Interface _priceFeed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">public</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">view</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint80</span><span class="token plain"> roundId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">int256</span><span class="token plain"> answer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> startedAt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> updatedAt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint80</span><span class="token plain"> answeredInRound</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>_priceFeed</code></td><td><code>AggregatorV3Interface</code></td><td>The address of the Chainlink AggregatorV3Interface contract.</td></tr></tbody></table>
<p><strong>Returns</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>roundId</code></td><td><code>uint80</code></td><td>The ID of the latest data round.</td></tr><tr><td><code>answer</code></td><td><code>int256</code></td><td>The reported price from the latest round.</td></tr><tr><td><code>startedAt</code></td><td><code>uint256</code></td><td>Timestamp when the round was initiated.</td></tr><tr><td><code>updatedAt</code></td><td><code>uint256</code></td><td>Timestamp when the round was last updated.</td></tr><tr><td><code>answeredInRound</code></td><td><code>uint80</code></td><td>The round ID in which the answer was finalized.</td></tr></tbody></table>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Errors</b></summary><div><div class="collapsibleContent_i85q"><p><strong>Errors</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>OraclesLibrary__StalePriceFeed</code></td><td></td><td>Thrown if the latest price data retrieved from the oracle is considered stale.</td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configurecollateral">configureCollateral<a href="#configurecollateral" class="hash-link" aria-label="Direct link to configureCollateral" title="Direct link to configureCollateral">​</a></h3>
<p>Configures a new collateral type with specified parameters.</p>
<p><em>Only callable by the contract owner.
The function will revert if the collateral type has already been configured.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">configureCollateral</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> tokenAddr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> liqThreshold</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> priceFeed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint8</span><span class="token plain"> tknDecimals</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">public</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    onlyOwner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The unique identifier for the collateral type. e.g the token symbol.</td></tr><tr><td><code>tokenAddr</code></td><td><code>address</code></td><td>The address of the ERC20 token contract representing the collateral.</td></tr><tr><td><code>liqThreshold</code></td><td><code>uint256</code></td><td>The liquidation threshold as a percentage.</td></tr><tr><td><code>priceFeed</code></td><td><code>address</code></td><td>The address of the Chainlink price feed for determining the collateral&#x27;s USD value.</td></tr><tr><td><code>tknDecimals</code></td><td><code>uint8</code></td><td>The number of decimals for the collateral token, ensuring proper scaling in calculations.</td></tr></tbody></table>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b> Errors</b></summary><div><div class="collapsibleContent_i85q"><p><strong>Errors</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>DSCEngine__CollateralConfigurationAlreadySet</code></td><td><code>string collId</code></td><td>Thrown if an attempt is made to configure a collateral type that has already been configured.</td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="removecollateralconfiguration">removeCollateralConfiguration<a href="#removecollateralconfiguration" class="hash-link" aria-label="Direct link to removeCollateralConfiguration" title="Direct link to removeCollateralConfiguration">​</a></h3>
<p>Removes a collateral configuration from the protocol.</p>
<p><em>This function can only be called by the contract owner. It will revert if there is any outstanding debt
associated with the collateral type. The removal will delete the configuration for the specified collateral.</em></p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">removeCollateralConfiguration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes32</span><span class="token plain"> collId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">external</span><span class="token plain"> onlyOwner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collId</code></td><td><code>bytes32</code></td><td>The unique identifier for the collateral type to be removed.</td></tr></tbody></table>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Errors</b></summary><div><div class="collapsibleContent_i85q"><p><strong>Errors</strong></p><table><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>DSCEngine__CollateralConfigurationCannotBeRemovedWithOutstandingDebt</code></td><td><code>uint256 outstandingDebt</code></td><td>Thrown if an attempt is made to remove a collateral configuration while there is still outstanding debt backed by that collateral type.</td></tr></tbody></table></div></div></details></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/oc-stablecoin/Fees"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Protocol Fees</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#addethercollateral" class="table-of-contents__link toc-highlight">addEtherCollateral</a></li><li><a href="#depositcollateral" class="table-of-contents__link toc-highlight">depositCollateral</a></li><li><a href="#depositethercollateralandmintdsc" class="table-of-contents__link toc-highlight">depositEtherCollateralAndMintDSC</a></li><li><a href="#depositcollateralandmintdsc" class="table-of-contents__link toc-highlight">depositCollateralAndMintDSC</a></li><li><a href="#boostvault" class="table-of-contents__link toc-highlight">boostVault</a></li><li><a href="#expandvault" class="table-of-contents__link toc-highlight">expandVault</a></li><li><a href="#expandethvault" class="table-of-contents__link toc-highlight">expandETHVault</a></li><li><a href="#redeemcollateral" class="table-of-contents__link toc-highlight">redeemCollateral</a></li><li><a href="#redeemcollateralfordsc" class="table-of-contents__link toc-highlight">redeemCollateralForDSC</a></li><li><a href="#removecollateral" class="table-of-contents__link toc-highlight">removeCollateral</a></li><li><a href="#mintdsc" class="table-of-contents__link toc-highlight">mintDSC</a></li><li><a href="#burndsc" class="table-of-contents__link toc-highlight">burnDSC</a></li><li><a href="#calculatefees" class="table-of-contents__link toc-highlight">calculateFees</a></li><li><a href="#markvaultasunderwater" class="table-of-contents__link toc-highlight">markVaultAsUnderwater</a></li><li><a href="#calculateliquidationrewards" class="table-of-contents__link toc-highlight">calculateLiquidationRewards</a></li><li><a href="#liquidatevault" class="table-of-contents__link toc-highlight">liquidateVault</a></li><li><a href="#gethealthfactor" class="table-of-contents__link toc-highlight">getHealthFactor</a></li><li><a href="#getcollateralsettings" class="table-of-contents__link toc-highlight">getCollateralSettings</a></li><li><a href="#getallowedcollateralids" class="table-of-contents__link toc-highlight">getAllowedCollateralIds</a></li><li><a href="#getcollateraladdress" class="table-of-contents__link toc-highlight">getCollateralAddress</a></li><li><a href="#getvaultinformation" class="table-of-contents__link toc-highlight">getVaultInformation</a></li><li><a href="#getusercollateralbalance" class="table-of-contents__link toc-highlight">getUserCollateralBalance</a></li><li><a href="#gettotaldscdebt" class="table-of-contents__link toc-highlight">getTotalDscDebt</a></li><li><a href="#getvaultcollateralusdvalue" class="table-of-contents__link toc-highlight">getVaultCollateralUsdValue</a></li><li><a href="#gettokenamountfromusdvalue" class="table-of-contents__link toc-highlight">getTokenAmountFromUsdValue</a></li><li><a href="#getrawusdvalue" class="table-of-contents__link toc-highlight">getRawUsdValue</a></li><li><a href="#latestrounddatastalenesscheck" class="table-of-contents__link toc-highlight">latestRoundDataStalenessCheck</a></li><li><a href="#configurecollateral" class="table-of-contents__link toc-highlight">configureCollateral</a></li><li><a href="#removecollateralconfiguration" class="table-of-contents__link toc-highlight">removeCollateralConfiguration</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/FBB2AfbrKR" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/nzesi_eth" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://linkedin.com/in/simon-mutua" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/nzes1" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">DSC Protocol. Built with ❤️ and <a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer">Docusaurus</a>. <br> Copyright © 2025 DSC Protocol.</div></div></div></footer></div>
</body>
</html>