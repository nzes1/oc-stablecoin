"use strict";(self.webpackChunkdocs_site=self.webpackChunkdocs_site||[]).push([[658],{1257:(e,d,r)=>{r.r(d),r.d(d,{assets:()=>c,contentTitle:()=>i,default:()=>o,frontMatter:()=>s,metadata:()=>l,toc:()=>h});const l=JSON.parse('{"id":"Developers/Contracts","title":"Contracts","description":"Throughout this ABI documentation, the term \\"collateral balance\\" may refer to two distinct concepts within the protocol:","source":"@site/docs/Developers/Contracts.md","sourceDirName":"Developers","slug":"/Developers/Contracts","permalink":"/oc-stablecoin/Developers/Contracts","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"hide_title":true,"sidebar_label":"Contracts ABI","toc_min_heading_level":2,"toc_max_heading_level":6},"sidebar":"mainSidebar","previous":{"title":"Protocol Fees","permalink":"/oc-stablecoin/Fees"}}');var t=r(4848),n=r(8453);const s={hide_title:!0,sidebar_label:"Contracts ABI",toc_min_heading_level:2,toc_max_heading_level:6},i=void 0,c={},h=[{value:"addEtherCollateral",id:"addethercollateral",level:3},{value:"depositCollateral",id:"depositcollateral",level:3},{value:"depositEtherCollateralAndMintDSC",id:"depositethercollateralandmintdsc",level:3},{value:"depositCollateralAndMintDSC",id:"depositcollateralandmintdsc",level:3},{value:"boostVault",id:"boostvault",level:3},{value:"expandVault",id:"expandvault",level:3},{value:"expandETHVault",id:"expandethvault",level:3},{value:"redeemCollateral",id:"redeemcollateral",level:3},{value:"redeemCollateralForDSC",id:"redeemcollateralfordsc",level:3},{value:"removeCollateral",id:"removecollateral",level:3},{value:"mintDSC",id:"mintdsc",level:3},{value:"burnDSC",id:"burndsc",level:3},{value:"calculateFees",id:"calculatefees",level:3},{value:"markVaultAsUnderwater",id:"markvaultasunderwater",level:3},{value:"calculateLiquidationRewards",id:"calculateliquidationrewards",level:3},{value:"liquidateVault",id:"liquidatevault",level:3},{value:"getHealthFactor",id:"gethealthfactor",level:3},{value:"getCollateralSettings",id:"getcollateralsettings",level:3},{value:"getAllowedCollateralIds",id:"getallowedcollateralids",level:3},{value:"getCollateralAddress",id:"getcollateraladdress",level:3},{value:"getVaultInformation",id:"getvaultinformation",level:3},{value:"getUserCollateralBalance",id:"getusercollateralbalance",level:3},{value:"getTotalDscDebt",id:"gettotaldscdebt",level:3},{value:"getVaultCollateralUsdValue",id:"getvaultcollateralusdvalue",level:3},{value:"getTokenAmountFromUsdValue",id:"gettokenamountfromusdvalue",level:3},{value:"getRawUsdValue",id:"getrawusdvalue",level:3},{value:"latestRoundDataStalenessCheck",id:"latestrounddatastalenesscheck",level:3},{value:"configureCollateral",id:"configurecollateral",level:3},{value:"removeCollateralConfiguration",id:"removecollateralconfiguration",level:3}];function a(e){const d={admonition:"admonition",code:"code",em:"em",h3:"h3",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components},{Details:r}=d;return r||function(e,d){throw new Error("Expected "+(d?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d.admonition,{title:"Important Note on Collateral Balance",type:"warning",children:[(0,t.jsx)(d.p,{children:'Throughout this ABI documentation, the term "collateral balance" may refer to two distinct concepts within the protocol:'}),(0,t.jsxs)(d.ol,{children:["\n",(0,t.jsxs)(d.li,{children:[(0,t.jsx)(d.em,{children:(0,t.jsx)(d.strong,{children:"Global User Collateral Balance -"})})," This represents the total amount of a specific collateral type held by a user within the protocol, outside of any specific DSC vault. This balance increases upon depositing collateral that is not directly tied to minting DSC."]}),"\n",(0,t.jsxs)(d.li,{children:[(0,t.jsx)(d.em,{children:(0,t.jsx)(d.strong,{children:"Locked Collateral (Vault Balance) -"})})," This refers to the amount of a specific collateral type that is actively backing DSC within a user's individual vault. Certain actions, such as boosting a vault's collateralization, may draw from the user's global collateral balance to increase the locked collateral within that vault."]}),"\n"]}),(0,t.jsxs)(d.admonition,{type:"tip",children:[(0,t.jsx)(d.mdxAdmonitionTitle,{}),(0,t.jsx)(d.p,{children:"Please pay close attention to the context of \"collateral balance\" within each function's description to understand whether it pertains to the user's global balance or the locked balance within a DSC vault."})]})]}),"\n",(0,t.jsx)(d.h3,{id:"addethercollateral",children:"addEtherCollateral"}),"\n",(0,t.jsx)(d.p,{children:"Deposits Ether into the protocol as collateral for the sender."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Accepts Ether via msg.value and updates the sender's collateral balance."})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"The function is payable and public to enable direct Ether transfers."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function addEtherCollateral() public payable;\n"})}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("b",{children:"Events (Emits) and Errors"})}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Emits"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__CollateralDeposited"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"address indexed depositor"}),", ",(0,t.jsx)(d.code,{children:"string collId"})," (",(0,t.jsx)(d.code,{children:'"ETH"'}),"), ",(0,t.jsx)(d.code,{children:"uint256 depositAmount"})]}),(0,t.jsx)(d.td,{children:"Emitted when Ether collateral is successfully deposited by a user."})]})})]}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Errors"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__ZeroAmountNotAllowed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the ether deposit amount is zero."})]})})]})]}),"\n",(0,t.jsx)(d.h3,{id:"depositcollateral",children:"depositCollateral"}),"\n",(0,t.jsx)(d.p,{children:"Deposits ERC20 collateral into the protocol."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Updates the user's available collateral balance tracked by the protocol."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function depositCollateral(bytes32 collId, uint256 amount) public nonReentrant;\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The ID of the collateral token."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"amount"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of collateral to deposit."})]})]})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("b",{children:"Events (Emits) and Errors"})}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Emits"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__CollateralDeposited"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"address indexed depositor"}),", ",(0,t.jsx)(d.code,{children:"uint256 collAmt"})]}),(0,t.jsx)(d.td,{children:"Emitted when collateral is successfully deposited."})]})})]}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Errors"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__ZeroAmountNotAllowed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the provided deposit amount is zero."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__CollateralTokenNotApproved"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the collateral token has not been approved for use as collateral in the protocol."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"Collateral Deposit Failed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the transfer of collateral from the depositor to the protocol fails."})]})]})]})]}),"\n",(0,t.jsx)(d.h3,{id:"depositethercollateralandmintdsc",children:"depositEtherCollateralAndMintDSC"}),"\n",(0,t.jsx)(d.p,{children:"Deposits Ether collateral and mints DSC in a single transaction."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Requires the caller to send Ether. Reverts if the amount is zero.\nEnsures atomicity for vault creation and DSC issuance, enhancing user experience."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function depositEtherCollateralAndMintDSC(uint256 dscAmt) external payable isValidDebtSize(dscAmt);\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"dscAmt"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of DSC to mint against the deposited Ether collateral."})]})})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("b",{children:"Events (Emits) and Errors"})}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Emits"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__CollateralDeposited"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"address indexed depositor"}),", ",(0,t.jsx)(d.code,{children:"string collId"})," (",(0,t.jsx)(d.code,{children:'"ETH"'}),"), ",(0,t.jsx)(d.code,{children:"uint256 depositAmount"})]}),(0,t.jsx)(d.td,{children:"Emitted when Ether collateral is successfully deposited."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DscMinted"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"address indexed minter"}),", ",(0,t.jsx)(d.code,{children:"uint256 dscAmt"})]}),(0,t.jsx)(d.td,{children:"Emitted when DSC is successfully minted."})]})]})]}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Errors"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__DebtSizeBelowMinimumAmountAllowed"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256 minDebt"})}),(0,t.jsx)(d.td,{children:"(Via modifier) Thrown if the resulting debt would be below the protocol's minimum debt amount of 100 DSC."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__ZeroAmountNotAllowed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the deposit amount is zero."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__AmountExceedsCurrentBalance"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"uint256 available"})]}),(0,t.jsx)(d.td,{children:"Thrown if the deposit amount exceeds the user's available global Ether collateral balance."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__HealthFactorBelowThreshold"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256 healthFactor"})}),(0,t.jsx)(d.td,{children:"Thrown if the user's health factor would fall below the safe threshold after minting."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__MintingDSCFailed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the DSC ERC20 contract returns false during the DSC minting process."})]})]})]})]}),"\n",(0,t.jsx)(d.h3,{id:"depositcollateralandmintdsc",children:"depositCollateralAndMintDSC"}),"\n",(0,t.jsx)(d.p,{children:"Deposits ERC20 collateral and mints DSC in a single transaction."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Requires prior token approval. Reverts if collateral amount is zero or unsupported.\nEnsures atomicity for vault creation and DSC issuance, enhancing user experience."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function depositCollateralAndMintDSC(\n    bytes32 collId,\n    uint256 collAmt,\n    uint256 dscAmt\n)\n    external\n    isValidDebtSize(dscAmt);\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The ID of the collateral token."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collAmt"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of collateral to deposit."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"dscAmt"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of DSC to mint against the deposited collateral."})]})]})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("b",{children:"Events (Emits) and Errors"})}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Emits"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__CollateralDeposited"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"address indexed depositor"}),", ",(0,t.jsx)(d.code,{children:"uint256 collAmt"})]}),(0,t.jsx)(d.td,{children:"Emitted when collateral is successfully deposited."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DscMinted"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"address indexed minter"}),", ",(0,t.jsx)(d.code,{children:"uint256 dscAmt"})]}),(0,t.jsx)(d.td,{children:"Emitted when DSC is successfully minted."})]})]})]}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Errors"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__ZeroAmountNotAllowed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the provided deposit amount is zero."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__CollateralTokenNotApproved"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the collateral token has not been approved for use in the protocol."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"Collateral Deposit Failed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if collateral transfer from depositor to the protocol fails."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__HealthFactorBelowThreshold"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256 healthFactor"})}),(0,t.jsx)(d.td,{children:"Thrown if the user's health factor would fall below the safe threshold of 1 after minting."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__MintingDSCFailed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the DSC minting process fails."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__DebtSizeBelowMinimumAmountAllowed"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256 minDebt"})}),(0,t.jsx)(d.td,{children:"Thrown if the resulting debt would be below the protocol's minimum debt amount (100 DSC)."})]})]})]})]}),"\n",(0,t.jsx)(d.h3,{id:"boostvault",children:"boostVault"}),"\n",(0,t.jsx)(d.p,{children:"Increases the locked collateral in an existing vault."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Transfers collateral from the user's balance into the vault, boosting its backing."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function boostVault(bytes32 collId, uint256 collAmt) external;\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The ID of the collateral type."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collAmt"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of collateral to lock additionally in the vault."})]})]})]}),"\n",(0,t.jsx)(d.h3,{id:"expandvault",children:"expandVault"}),"\n",(0,t.jsx)(d.p,{children:"Expands an existing vault by adding collateral and minting additional DSC."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Requires prior token approval and valid collateral. Reverts if inputs are invalid.\nEnsures atomic execution of collateral deposit and DSC minting for better UX."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function expandVault(bytes32 collId, uint256 collAmt, uint256 dscAmt) external isValidDebtSize(dscAmt);\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The ID of the collateral token."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collAmt"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of collateral to deposit."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"dscAmt"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of DSC to mint."})]})]})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("b",{children:"Events (Emits) and Errors"})}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Emits"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__CollateralDeposited"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"address indexed depositor"}),", ",(0,t.jsx)(d.code,{children:"uint256 collAmt"})]}),(0,t.jsx)(d.td,{children:"Emitted when additional collateral is deposited into the user's global balance."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DscMinted"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"address indexed minter"}),", ",(0,t.jsx)(d.code,{children:"uint256 dscAmt"})]}),(0,t.jsx)(d.td,{children:"Emitted when additional DSC is minted against the vault's collateral."})]})]})]}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Errors"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__HealthFactorBelowThreshold"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256 healthFactor"})}),(0,t.jsx)(d.td,{children:"Thrown if adding the specified collateral and minting the additional DSC would cause the vault's health factor to fall below the minimum threshold (1)."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__MintingDSCFailed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the DSC minting process fails."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__ZeroAmountNotAllowed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the provided collateral deposit amount is zero."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__CollateralTokenNotApproved"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the collateral token has not been approved for use as collateral in the protocol."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"Collateral Deposit Failed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the collateral transfer from the user to the protocol fails."})]})]})]})]}),"\n",(0,t.jsx)(d.h3,{id:"expandethvault",children:"expandETHVault"}),"\n",(0,t.jsx)(d.p,{children:"Expands an existing Ether vault by adding Ether collateral and minting additional DSC."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Requires the caller to send Ether. Reverts if the amount is zero.\nEnsures atomic execution of Ether deposit and DSC minting for better UX."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function expandETHVault(uint256 dscAmt) external payable isValidDebtSize(dscAmt);\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"dscAmt"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of DSC to mint against the deposited Ether collateral."})]})})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("b",{children:"Events (Emits) and Errors"})}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Emits"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__CollateralDeposited"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"})," (",(0,t.jsx)(d.code,{children:'"ETH"'}),"), ",(0,t.jsx)(d.code,{children:"address indexed depositor"}),", ",(0,t.jsx)(d.code,{children:"uint256 depositAmount"})]}),(0,t.jsx)(d.td,{children:"Emitted when additional Ether collateral is deposited into the user's global balance."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DscMinted"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"address indexed minter"}),", ",(0,t.jsx)(d.code,{children:"uint256 dscAmt"})]}),(0,t.jsx)(d.td,{children:"Emitted when additional DSC is minted against the vault's collateral."})]})]})]}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Errors"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__HealthFactorBelowThreshold"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256 healthFactor"})}),(0,t.jsx)(d.td,{children:"Thrown if adding the specified Ether collateral and minting the additional DSC would cause the vault's health factor to fall below the minimum threshold (1)."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__MintingDSCFailed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the DSC minting process fails."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__ZeroAmountNotAllowed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the provided Ether deposit amount is zero."})]})]})]})]}),"\n",(0,t.jsx)(d.h3,{id:"redeemcollateral",children:"redeemCollateral"}),"\n",(0,t.jsx)(d.p,{children:"Redeems a specified amount of collateral from the vault."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Allows users to withdraw collateral while maintaining their DSC debt."})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Healthy Health factor has to be maintained after redeeming."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function redeemCollateral(bytes32 collId, uint256 collAmt) public;\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The ID of the collateral token."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collAmt"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of collateral to redeem."})]})]})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("b",{children:"Events (Emits) and and Errors"})}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Emits"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__CollateralWithdrawn"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"address indexed caller"}),", ",(0,t.jsx)(d.code,{children:"uint256 amount"})]}),(0,t.jsx)(d.td,{children:"Emitted when collateral is successfully withdrawn."})]})})]}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Errors"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__HealthFactorBelowThreshold"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256 healthFactor"})}),(0,t.jsx)(d.td,{children:"Thrown if redeeming the specified amount of collateral would cause the user's health factor to fall below the minimum threshold (1)."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__ZeroAmountNotAllowed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the requested redemption amount is zero."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__AmountExceedsCurrentBalance"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"uint256 available"})]}),(0,t.jsx)(d.td,{children:"Thrown if the requested redemption amount exceeds the user's available global collateral balance for the specified collateral type."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"Ether Transfer Failed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the transfer of Ether to the user fails during the collateral redemption process."})]})]})]})]}),"\n",(0,t.jsx)(d.h3,{id:"redeemcollateralfordsc",children:"redeemCollateralForDSC"}),"\n",(0,t.jsx)(d.p,{children:"Redeems locked collateral by burning DSC in a single transaction."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Settles any protocol fees before redeeming. If full DSC debt is burned, the vault is considered closed,\nand the user receives all remaining locked collateral instead of the specified amount."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function redeemCollateralForDSC(bytes32 collId, uint256 collAmt, uint256 dscAmt) external;\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The ID of the collateral token."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collAmt"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of collateral to redeem."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"dscAmt"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of DSC to burn."})]})]})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("b",{children:"Events (Emits) and Errors"})}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Emits"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__CollateralWithdrawn"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"address indexed caller"}),", ",(0,t.jsx)(d.code,{children:"uint256 amount"})]}),(0,t.jsx)(d.td,{children:"Emitted when collateral is successfully withdrawn/redeemed."})]})})]}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Errors"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__BurningDSCFailed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the burning of DSC fails (e.g., DSC transfer back from the user to the DSEngine fails)."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__HealthFactorBelowThreshold"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256 healthFactor"})}),(0,t.jsx)(d.td,{children:"Thrown if removing the locked collateral would cause the user's health factor to fall below the minimum threshold (1)."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__AmountExceedsCurrentBalance"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"uint256 available"})]}),(0,t.jsx)(d.td,{children:"Thrown if the requested withdrawal amount exceeds the user's available global collateral balance for the specified collateral type."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"Ether Transfer Failed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the transfer of Ether to the user fails during the redemption process."})]})]})]})]}),"\n",(0,t.jsx)(d.h3,{id:"removecollateral",children:"removeCollateral"}),"\n",(0,t.jsx)(d.p,{children:"Withdraws a specified amount of collateral from the protocol."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Requires the user to have sufficient collateral balance. Determines\nif the collateral is Ether or ERC20 and processes the withdrawal accordingly."})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Emits a withdrawal event upon successful transfer."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function removeCollateral(bytes32 collId, uint256 amount) public;\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The identifier of the collateral token."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"amount"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of collateral to withdraw."})]})]})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("b",{children:"Events (Emits) and Errors"})}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Emits"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__CollateralWithdrawn"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"address indexed caller"}),", ",(0,t.jsx)(d.code,{children:"uint256 amount"})]}),(0,t.jsx)(d.td,{children:"Emitted when a user successfully withdraws collateral."})]})})]}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Errors"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__ZeroAmountNotAllowed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the requested withdrawal amount is zero."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__AmountExceedsCurrentBalance"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"uint256 available"})]}),(0,t.jsx)(d.td,{children:"Thrown if the requested withdrawal amount exceeds the user's available global collateral balance for the specified collateral type."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"Ether Transfer Failed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the internal Ether transfer during the withdrawal process fails. (Note: This is a string revert, so parameters might not be explicitly available in the ABI)"})]})]})]})]}),"\n",(0,t.jsx)(d.h3,{id:"mintdsc",children:"mintDSC"}),"\n",(0,t.jsx)(d.p,{children:"Mints DSC against a specified amount of collateral."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Allows users to lock existing deposited collateral and mint DSC."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function mintDSC(bytes32 collId, uint256 collAmt, uint256 dscAmt) public isValidDebtSize(dscAmt) nonReentrant;\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The ID of the collateral token."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collAmt"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of deposited collateral to lock."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"dscAmt"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of DSC to mint against the locked collateral."})]})]})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("b",{children:"Events (Emits) and and Errors"})}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Emits"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DscMinted"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"address indexed minter"}),", ",(0,t.jsx)(d.code,{children:"uint256 dscAmt"})]}),(0,t.jsx)(d.td,{children:"Emitted when DSC is successfully minted."})]})})]}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Errors"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__DebtSizeBelowMinimumAmountAllowed"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256 minDebt"})}),(0,t.jsx)(d.td,{children:"Thrown if the resulting debt would be below the protocol's minimum debt amount (100 DSC)."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__HealthFactorBelowThreshold"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256 healthFactor"})}),(0,t.jsx)(d.td,{children:"Thrown if the user's health factor would fall below the safe threshold after minting the requested DSC amount."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__MintingDSCFailed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the DSC minting process fails."})]})]})]})]}),"\n",(0,t.jsx)(d.h3,{id:"burndsc",children:"burnDSC"}),"\n",(0,t.jsx)(d.p,{children:"Burns a specified amount of DSC from the user's vault."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Decreases the DSC debt associated with the user's vault.\nFees are also settled prior to reducing the debt."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function burnDSC(bytes32 collId, uint256 dscAmt) public;\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The ID of the collateral token."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"dscAmt"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of DSC to burn."})]})]})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("b",{children:"Events (Emits) and and Errors"})}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Errors"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__BurningDSCFailed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the burning of DSC fails."})]})})]})]}),"\n",(0,t.jsx)(d.h3,{id:"calculatefees",children:"calculateFees"}),"\n",(0,t.jsx)(d.p,{children:"Calculates the protocol fee based on the specified debt amount and time duration."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"This function computes the fee using a fixed annual percentage rate (APR), prorated over the provided\ndebt period. The fee represents the cost of maintaining an open debt position within the protocol."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function calculateFees(uint256 debt, uint256 debtPeriod) external pure returns (uint256);\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"debt"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The outstanding DSC debt for which the fee is to be calculated."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"debtPeriod"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The duration (in seconds) over which the debt has been active."})]})]})]}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Returns"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"<none>"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"fee The total protocol fee owed for the specified debt and period."})]})})]}),"\n",(0,t.jsx)(d.h3,{id:"markvaultasunderwater",children:"markVaultAsUnderwater"}),"\n",(0,t.jsx)(d.p,{children:"Flags a vault as underwater and optionally initiates liquidation."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Intended for use by governance or keeper bots. Can be used to only mark or both mark and liquidate."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function markVaultAsUnderwater(bytes32 collId, address owner, bool liquidate, uint256 dsc, bool withdraw) external;\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The ID of the vault collateral token."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"owner"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"address"})}),(0,t.jsx)(d.td,{children:"The address of the vault owner."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"liquidate"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bool"})}),(0,t.jsx)(d.td,{children:"Whether to proceed with liquidation immediately."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"dsc"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of DSC to repay if liquidating."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"withdraw"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bool"})}),(0,t.jsx)(d.td,{children:"Whether to withdraw the proceeds of liquidation from the protocol or not. This flexibility gives liquidators the option to keep the collateral within the protocol for future use such as opening new vaults themselves."})]})]})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("b",{children:"Events (Emits) and Errors"})}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Emits"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"VaultMarkedAsUnderwater"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"address indexed owner"})]}),(0,t.jsx)(d.td,{children:"Emitted when a vault is marked as underwater due to its health factor falling below the critical threshold."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"LiquidationWithFullRewards"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"address indexed owner"}),", ",(0,t.jsx)(d.code,{children:"address indexed liquidator"})]}),(0,t.jsx)(d.td,{children:"Emitted when a vault is fully liquidated, and the liquidator receives the full liquidation rewards."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"LiquidationWithPartialRewards"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"address indexed owner"}),", ",(0,t.jsx)(d.code,{children:"address indexed liquidator"})]}),(0,t.jsx)(d.td,{children:"Emitted when a vault is partially liquidated, and the liquidator receives partial liquidation rewards."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"AbsorbedBadDebt"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"address indexed owner"})]}),(0,t.jsx)(d.td,{children:"Emitted when the protocol absorbs bad debt from a vault because liquidations could not cover the base equivalent of the debt."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"LiquidationSurplusReturned"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"address indexed owner"}),", ",(0,t.jsx)(d.code,{children:"uint256 surplus"})]}),(0,t.jsx)(d.td,{children:"Emitted when surplus collateral remains after a liquidation and is returned to the vault owner."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__CollateralWithdrawn"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"address indexed caller"}),", ",(0,t.jsx)(d.code,{children:"uint256 amount"})]}),(0,t.jsx)(d.td,{children:"Emitted when collateral is withdrawn by the liquidator from the protocol as part of the liquidation process."})]})]})]}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Errors"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__VaultNotUnderwater"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if an attempt is made to mark a vault as underwater when its health factor is not below the critical threshold."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"LM__VaultNotLiquidatable"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if an attempt is made to liquidate a vault that is not currently eligible for liquidation (e.g., its health factor is not sufficiently low)."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"LM__SuppliedDscNotEnoughToRepayBadDebt"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the amount of DSC supplied by the liquidator is not sufficient to cover the vault's full DSC debt."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__BurningDSCFailed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the burning of DSC (debt repayment) fails during the liquidation process."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__ZeroAmountNotAllowed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if a zero amount is provided for a collateral withdrawal."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__AmountExceedsCurrentBalance"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"uint256 available"})]}),(0,t.jsx)(d.td,{children:"Thrown if the liquidator attempts to withdraw more global collateral than they currently hold."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"Ether Transfer Failed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the transfer of Ether to the liquidator fails during the liquidation process."})]})]})]})]}),"\n",(0,t.jsx)(d.h3,{id:"calculateliquidationrewards",children:"calculateLiquidationRewards"}),"\n",(0,t.jsx)(d.p,{children:"Calculates the liquidation rewards for a liquidator based on vault details."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Rewards are calculated in DSC and are based on the size of the debt and the speed\nof liquidation. A time-decaying discount is applied based on how long the vault has been\nunderwater. The final rewards are returned in DSC, which is pegged to USD and will be\nconverted to collateral amount for transfer in the DSCEngine."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function calculateLiquidationRewards(bytes32 collId, address owner) public view returns (uint256 rewards);\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The ID of the vault collateral type."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"owner"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"address"})}),(0,t.jsx)(d.td,{children:"The address of the vault owner."})]})]})]}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Returns"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"rewards"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The total liquidation rewards in USD."})]})})]}),"\n",(0,t.jsx)(d.h3,{id:"liquidatevault",children:"liquidateVault"}),"\n",(0,t.jsx)(d.p,{children:"Executes the liquidation of an unhealthy vault by repaying its DSC debt and seizing collateral."}),"\n",(0,t.jsx)(d.p,{children:"*This is the core liquidation function responsible for handling the mechanics of an undercollateralized\nvault.\nIt can be called by anyone, but the caller must supply the vault's amount of DSC to repay the debt.\nIf the vault was not previously marked as underwater, the function will first flag it and apply the more generous\nliquidation reward parameters, providing greater incentive to the liquidator. These reward mechanics are defined\nin the Liquidation contract and ensure that early liquidators receive a premium.\nThe function processes the liquidation in the following order:"}),"\n",(0,t.jsxs)(d.ol,{children:["\n",(0,t.jsx)(d.li,{children:"Applies a liquidation penalty, deducted from the vault owner\u2019s locked collateral."}),"\n",(0,t.jsx)(d.li,{children:"Calculates liquidation rewards for the liquidator based on the DSC repaid."}),"\n",(0,t.jsx)(d.li,{children:"Burns the DSC supplied by the liquidator and charges protocol fees (also deducted from the owner's\ncollateral).\nLiquidation outcomes fall into one of three categories:"}),"\n",(0,t.jsx)(d.li,{children:"Sufficient Collateral for Full Liquidation:\nThe vault has enough collateral to cover both the base repayment (i.e., collateral equivalent of DSC debt)\nand the calculated liquidation rewards. The liquidator receives both in full."}),"\n",(0,t.jsx)(d.li,{children:"Partial Rewards:\nThe vault has enough to repay the base DSC-equivalent collateral but not the full rewards.\nThe liquidator receives the base and as much of the rewards as available. If the remaining collateral\nis only sufficient for base repayment, then rewards may be zero."}),"\n",(0,t.jsxs)(d.li,{children:["Insufficient Collateral (Bad Debt):\nThe vault doesn't have enough collateral to repay even the base amount. The liquidator receives no collateral.\nInstead, the DSC they repaid is refunded by minting new DSC from the protocol to cover their loss.\nThe protocol absorbs the bad debt and takes ownership of the vault. Once governance is implemented, custom\nrules and resolutions can be introduced to handle absorbed bad debt positions.\nIf the liquidator opts to withdraw (",(0,t.jsx)(d.code,{children:"withdraw = true"}),"), their rewards are sent to their address.\nIf not, the seized collateral remains in the protocol, credited to their internal balance for future use.\nAny excess collateral left after repaying DSC and rewards is returned to the vault owner.*"]}),"\n"]}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function liquidateVault(bytes32 collId, address owner, uint256 dscToRepay, bool withdraw) public;\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The ID of the collateral token."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"owner"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"address"})}),(0,t.jsx)(d.td,{children:"The address of the vault owner."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"dscToRepay"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of DSC the liquidator is repaying to initiate liquidation."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"withdraw"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bool"})}),(0,t.jsx)(d.td,{children:"Whether the liquidator wants to immediately withdraw the received collateral from the protocol."})]})]})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("b",{children:"Events (Emits) and Errors"})}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Emits"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"VaultMarkedAsUnderwater"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"address indexed owner"})]}),(0,t.jsx)(d.td,{children:"Emitted when a vault is marked as underwater prior to liquidation."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"LiquidationWithFullRewards"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"address indexed owner"}),", ",(0,t.jsx)(d.code,{children:"address indexed liquidator"})]}),(0,t.jsx)(d.td,{children:"Emitted when a vault is fully liquidated, and the liquidator receives the full liquidation rewards."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"LiquidationWithPartialRewards"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"address indexed owner"}),", ",(0,t.jsx)(d.code,{children:"address indexed liquidator"})]}),(0,t.jsx)(d.td,{children:"Emitted when a vault is partially liquidated, and the liquidator receives partial liquidation rewards."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"AbsorbedBadDebt"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"address indexed owner"})]}),(0,t.jsx)(d.td,{children:"Emitted when the protocol absorbs bad debt from a vault because liquidations could not cover the base equivalent of the debt."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"LiquidationSurplusReturned"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"address indexed owner"}),", ",(0,t.jsx)(d.code,{children:"uint256 surplus"})]}),(0,t.jsx)(d.td,{children:"Emitted when surplus collateral remains after a liquidation and is returned to the vault owner."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__CollateralWithdrawn"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"address indexed caller"}),", ",(0,t.jsx)(d.code,{children:"uint256 amount"})]}),(0,t.jsx)(d.td,{children:"Emitted when collateral is withdrawn by the liquidator from the protocol as part of the liquidation process."})]})]})]}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Errors"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"LM__VaultNotLiquidatable"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if an attempt is made to liquidate a vault that is not currently eligible for liquidation (e.g., its health factor is not sufficiently low)."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"LM__SuppliedDscNotEnoughToRepayBadDebt"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the amount of DSC supplied by the liquidator is not sufficient to cover the vault's bad debt."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__BurningDSCFailed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the burning of DSC (debt repayment) fails during the liquidation process."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__ZeroAmountNotAllowed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if a zero amount is provided for a DSC repayment or collateral withdrawal."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"CM__AmountExceedsCurrentBalance"})}),(0,t.jsxs)(d.td,{children:[(0,t.jsx)(d.code,{children:"string collId"}),", ",(0,t.jsx)(d.code,{children:"uint256 available"})]}),(0,t.jsx)(d.td,{children:"Thrown if the liquidator attempts to withdraw more global collateral than they currently hold."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"Ether Transfer Failed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the transfer of Ether to the liquidator fails during the liquidation process."})]})]})]})]}),"\n",(0,t.jsx)(d.h3,{id:"gethealthfactor",children:"getHealthFactor"}),"\n",(0,t.jsx)(d.p,{children:"Checks the health factor of a user's vault for a given collateral type."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"This function calls an internal helper function to evaluate the health factor of the user's vault.\nIt returns a boolean indicating whether the vault is healthy and the current health factor value."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function getHealthFactor(bytes32 collId, address user) external returns (bool, uint256);\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The ID of the collateral type."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"user"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"address"})}),(0,t.jsx)(d.td,{children:"The address of the vault owner."})]})]})]}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Returns"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"<none>"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bool"})}),(0,t.jsx)(d.td,{children:"A boolean indicating whether the vault is healthy and the current health factor value."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"<none>"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{})]})]})]}),"\n",(0,t.jsx)(d.h3,{id:"getcollateralsettings",children:"getCollateralSettings"}),"\n",(0,t.jsx)(d.p,{children:"Retrieves the configuration settings for a specific collateral type."}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function getCollateralSettings(bytes32 collId) external view returns (Structs.CollateralConfig memory);\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The unique identifier for the collateral type."})]})})]}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Returns"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"<none>"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"Structs.CollateralConfig"})}),(0,t.jsx)(d.td,{children:"The CollateralConfig struct containing the token address, total debt, liquidation threshold, and price feed."})]})})]}),"\n",(0,t.jsx)(d.h3,{id:"getallowedcollateralids",children:"getAllowedCollateralIds"}),"\n",(0,t.jsx)(d.p,{children:"Retrieves a list of all allowed collateral IDs in the protocol."}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function getAllowedCollateralIds() external view returns (bytes32[] memory);\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Returns"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"<none>"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32[]"})}),(0,t.jsx)(d.td,{children:"An array of collateral IDs."})]})})]}),"\n",(0,t.jsx)(d.h3,{id:"getcollateraladdress",children:"getCollateralAddress"}),"\n",(0,t.jsx)(d.p,{children:"Fetches the address of the ERC20 collateral token for a given collateral ID."}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function getCollateralAddress(bytes32 collId) external view returns (address);\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The ID of the collateral."})]})})]}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Returns"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"<none>"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"address"})}),(0,t.jsx)(d.td,{children:"The address of the collateral token."})]})})]}),"\n",(0,t.jsx)(d.h3,{id:"getvaultinformation",children:"getVaultInformation"}),"\n",(0,t.jsx)(d.p,{children:"Retrieves the locked collateral amount and DSC debt for a specific vault."}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function getVaultInformation(bytes32 collId, address owner) external view returns (uint256 collAmt, uint256 dscDebt);\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The ID of the collateral type."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"owner"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"address"})}),(0,t.jsx)(d.td,{children:"The address of the vault owner."})]})]})]}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Returns"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collAmt"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of collateral locked in the vault."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"dscDebt"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of DSC debt associated with the vault."})]})]})]}),"\n",(0,t.jsx)(d.h3,{id:"getusercollateralbalance",children:"getUserCollateralBalance"}),"\n",(0,t.jsx)(d.p,{children:"Retrieves the collateral balance of a specific user for a given collateral type."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Accesses the user's balance from the protocol's storage and is used to check how much collateral is\navailable for a user. i.e. unlocked collateral."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function getUserCollateralBalance(bytes32 collId, address user) external view returns (uint256);\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The ID of the collateral type."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"user"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"address"})}),(0,t.jsx)(d.td,{children:"The address of the user."})]})]})]}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Returns"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"<none>"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The balance of the specified collateral type for the given user."})]})})]}),"\n",(0,t.jsx)(d.h3,{id:"gettotaldscdebt",children:"getTotalDscDebt"}),"\n",(0,t.jsx)(d.p,{children:"Retrieves the total DSC debt for a specific collateral type."}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function getTotalDscDebt(bytes32 collId) external view returns (uint256);\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The ID of the collateral type."})]})})]}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Returns"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"<none>"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The total DSC debt associated with the specified collateral type."})]})})]}),"\n",(0,t.jsx)(d.h3,{id:"getvaultcollateralusdvalue",children:"getVaultCollateralUsdValue"}),"\n",(0,t.jsx)(d.p,{children:"Calculates the USD value of the collateral locked in a vault."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Fetches the current collateral price from the Chainlink price feed, scales it to 18 decimals,\nand returns the value in USD. This value is essential for determining the Health Factor ratio and\nthe amount of DSC that can be minted against the collateral - the reason for scaling to 18 decimals."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function getVaultCollateralUsdValue(bytes32 collId, address owner) public returns (uint256 usdValue);\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The ID of the collateral type."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"owner"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"address"})}),(0,t.jsx)(d.td,{children:"The address of the vault owner."})]})]})]}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Returns"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"usdValue"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The USD value of the locked collateral, scaled to 18 decimals."})]})})]}),"\n",(0,t.jsx)(d.h3,{id:"gettokenamountfromusdvalue",children:"getTokenAmountFromUsdValue"}),"\n",(0,t.jsx)(d.p,{children:"Converts a USD value to the equivalent amount of collateral tokens."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Uses the collateral's price and decimal precision to compute the token amount\nthat corresponds to the given USD value. Price is scaled to 18 decimals for consistency."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function getTokenAmountFromUsdValue(bytes32 collId, uint256 usdValue) public returns (uint256 tokenAmount);\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The ID of the collateral type."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"usdValue"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The USD value to convert."})]})]})]}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Returns"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"tokenAmount"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The corresponding amount of collateral tokens."})]})})]}),"\n",(0,t.jsx)(d.h3,{id:"getrawusdvalue",children:"getRawUsdValue"}),"\n",(0,t.jsx)(d.p,{children:"Returns the raw USD value of a specified amount of collateral."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Fetches the current collateral price from the Chainlink price feed and calculates\nthe USD value based on the amount. The result is in the same scale as the price feed's decimals,\nnot scaled to 18 decimals."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function getRawUsdValue(bytes32 collId, uint256 amount) public view returns (uint256 rawUsdValue);\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The ID of the collateral type."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"amount"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The amount of collateral to convert to USD value."})]})]})]}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Returns"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"rawUsdValue"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The raw USD value of the specified collateral amount."})]})})]}),"\n",(0,t.jsx)(d.h3,{id:"latestrounddatastalenesscheck",children:"latestRoundDataStalenessCheck"}),"\n",(0,t.jsx)(d.p,{children:"Verifies the freshness of the latest Chainlink price feed data."}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function latestRoundDataStalenessCheck(AggregatorV3Interface _priceFeed)\n    public\n    view\n    returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound);\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"_priceFeed"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"AggregatorV3Interface"})}),(0,t.jsx)(d.td,{children:"The address of the Chainlink AggregatorV3Interface contract."})]})})]}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Returns"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"roundId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint80"})}),(0,t.jsx)(d.td,{children:"The ID of the latest data round."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"answer"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"int256"})}),(0,t.jsx)(d.td,{children:"The reported price from the latest round."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"startedAt"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"Timestamp when the round was initiated."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"updatedAt"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"Timestamp when the round was last updated."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"answeredInRound"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint80"})}),(0,t.jsx)(d.td,{children:"The round ID in which the answer was finalized."})]})]})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("b",{children:"Errors"})}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Errors"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"OraclesLibrary__StalePriceFeed"})}),(0,t.jsx)(d.td,{}),(0,t.jsx)(d.td,{children:"Thrown if the latest price data retrieved from the oracle is considered stale."})]})})]})]}),"\n",(0,t.jsx)(d.h3,{id:"configurecollateral",children:"configureCollateral"}),"\n",(0,t.jsx)(d.p,{children:"Configures a new collateral type with specified parameters."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"Only callable by the contract owner.\nThe function will revert if the collateral type has already been configured."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function configureCollateral(\n    bytes32 collId,\n    address tokenAddr,\n    uint256 liqThreshold,\n    address priceFeed,\n    uint8 tknDecimals\n)\n    public\n    onlyOwner;\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The unique identifier for the collateral type. e.g the token symbol."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"tokenAddr"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"address"})}),(0,t.jsx)(d.td,{children:"The address of the ERC20 token contract representing the collateral."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"liqThreshold"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256"})}),(0,t.jsx)(d.td,{children:"The liquidation threshold as a percentage."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"priceFeed"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"address"})}),(0,t.jsx)(d.td,{children:"The address of the Chainlink price feed for determining the collateral's USD value."})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"tknDecimals"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint8"})}),(0,t.jsx)(d.td,{children:"The number of decimals for the collateral token, ensuring proper scaling in calculations."})]})]})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("b",{children:" Errors"})}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Errors"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__CollateralConfigurationAlreadySet"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"string collId"})}),(0,t.jsx)(d.td,{children:"Thrown if an attempt is made to configure a collateral type that has already been configured."})]})})]})]}),"\n",(0,t.jsx)(d.h3,{id:"removecollateralconfiguration",children:"removeCollateralConfiguration"}),"\n",(0,t.jsx)(d.p,{children:"Removes a collateral configuration from the protocol."}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.em,{children:"This function can only be called by the contract owner. It will revert if there is any outstanding debt\nassociated with the collateral type. The removal will delete the configuration for the specified collateral."})}),"\n",(0,t.jsx)(d.pre,{children:(0,t.jsx)(d.code,{className:"language-solidity",children:"function removeCollateralConfiguration(bytes32 collId) external onlyOwner;\n"})}),"\n",(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Type"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"collId"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"bytes32"})}),(0,t.jsx)(d.td,{children:"The unique identifier for the collateral type to be removed."})]})})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("b",{children:"Errors"})}),(0,t.jsx)(d.p,{children:(0,t.jsx)(d.strong,{children:"Errors"})}),(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"Parameters"}),(0,t.jsx)(d.th,{children:"Description"})]})}),(0,t.jsx)(d.tbody,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"DSCEngine__CollateralConfigurationCannotBeRemovedWithOutstandingDebt"})}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"uint256 outstandingDebt"})}),(0,t.jsx)(d.td,{children:"Thrown if an attempt is made to remove a collateral configuration while there is still outstanding debt backed by that collateral type."})]})})]})]})]})}function o(e={}){const{wrapper:d}={...(0,n.R)(),...e.components};return d?(0,t.jsx)(d,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,d,r)=>{r.d(d,{R:()=>s,x:()=>i});var l=r(6540);const t={},n=l.createContext(t);function s(e){const d=l.useContext(n);return l.useMemo((function(){return"function"==typeof e?e(d):{...d,...e}}),[d,e])}function i(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),l.createElement(n.Provider,{value:d},e.children)}}}]);